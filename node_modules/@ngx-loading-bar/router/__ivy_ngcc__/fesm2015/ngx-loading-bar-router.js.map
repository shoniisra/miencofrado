{"version":3,"file":"ngx-loading-bar-router.js","sources":["ng:/@ngx-loading-bar/router/router.module.ts","ng:/@ngx-loading-bar/router/ngx-loading-bar-router.ts"],"names":[],"mappings":";;;;;;;;IAea,sBAAsB,GAAnC,MAAa,sBAAsB;AACnC,IAAE,YAAY,MAAc,EAAE,MAAyB;AACvD,QAAI,MAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;AACxC,QAAI,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,KAAK;AAClC,YAAM,MAAM,QAAQ,GAAG,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC;AAC9D,YAAM,IAAI,QAAQ,IAAI,QAAQ,CAAC,gBAAgB,EAAE;AACjD,gBAAQ,OAAO;AACf,aAAO;AACP,YACM,IAAI,KAAK,YAAY,eAAe,EAAE;AAC5C,gBAAQ,GAAG,CAAC,KAAK,EAAE,CAAC;AACpB,aAAO;AACP,YACM,IAAI,KAAK,YAAY,eAAe,IAAI,KAAK,YAAY,aAAa,IAAI,KAAK,YAAY,gBAAgB,EAAE;AACnH,gBAAQ,GAAG,CAAC,QAAQ,EAAE,CAAC;AACvB,aAAO;AACP,SAAK,CAAC,CAAC;AACP,KAAG;AACH,IACU,yBAAyB,CAAC,MAAW;AAC/C;AACI,QAAA,MAAM,iBAAiB,GAAG,MAAM,CAAC,oBAAoB,IAAI,MAAM,CAAC,oBAAoB,EAAE,CAAC;AAC3F,QAAI,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,MAAM,EAAE;AACvD,YAAM,OAAO,iBAAiB,CAAC,MAAM,CAAC,KAAK,CAAC;AAC5C,SAAK;AACL,QACI,OAAO,EAAE,CAAC;AACd,KAAG;AACH;;qTAAC;AACD;AAAgD,YA5B1B,MAAM;AAAI,YAAM,iBAAiB;AAAG;AAD7C,sBAAsB,oBAJlC,QAAQ,CAAC,UACR,OAAO,EAAE,CAAC,YAAY,EAAE,hDAGtB,kCACkB,MAAM,EAAU,iBAAiB;EAJb,CAAC,UACzC,OAAO,EAAE,CAAC,vBAG8C,GAD7C,sBAAsB,CA4BlC;OA9BuB,EAAE,gBAAgB,CAAC,OAC1C,CAAC;;;;;;;2GA8BF;AAAC;AC5CD;AACA;AACA,GAAG;AACH;AACA;AACK","sourcesContent":["import { NgModule } from '@angular/core';\nimport {\n  RouterModule,\n  Router,\n  NavigationStart,\n  NavigationError,\n  NavigationEnd,\n  NavigationCancel,\n} from '@angular/router';\nimport { LoadingBarModule, LoadingBarService } from '@ngx-loading-bar/core';\n\n@NgModule({\n  imports: [RouterModule, LoadingBarModule],\n  exports: [RouterModule, LoadingBarModule],\n})\nexport class LoadingBarRouterModule {\n  constructor(router: Router, loader: LoadingBarService) {\n    const ref = loader.useRef('router');\n    router.events.subscribe((event) => {\n      const navState = this.getCurrentNavigationState(router);\n      if (navState && navState.ignoreLoadingBar) {\n        return;\n      }\n\n      if (event instanceof NavigationStart) {\n        ref.start();\n      }\n\n      if (event instanceof NavigationError || event instanceof NavigationEnd || event instanceof NavigationCancel) {\n        ref.complete();\n      }\n    });\n  }\n\n  private getCurrentNavigationState(router: any) {\n    // `getCurrentNavigation` only available in angular `7.2`\n    const currentNavigation = router.getCurrentNavigation && router.getCurrentNavigation();\n    if (currentNavigation && currentNavigation.extras) {\n      return currentNavigation.extras.state;\n    }\n\n    return {};\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}